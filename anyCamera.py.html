<html><head>
<title>anyCamera.py</title>
<meta name="Generator" content="htmlizer/[twisted, version 13.2.0]" />
<link rel="alternate" href="anyCamera.py" type="text/x-python" />

</head>
<body>
<pre><span class="py-src-comment"># Alunos: Leandro Shindi Ekamoto, Diego Takaki</span>
<span class="py-src-comment"># Leia readme</span>
<span class="py-src-comment">#</span>
<span class="py-src-comment">#</span>
<span class="py-src-comment">#</span>
<span class="py-src-comment">#</span>

<span class="py-src-keyword">import</span> <span class="py-src-variable">cv2</span>
<span class="py-src-keyword">import</span> <span class="py-src-variable">numpy</span> <span class="py-src-keyword">as</span> <span class="py-src-variable">np</span>
<span class="py-src-keyword">import</span> <span class="py-src-variable">json</span>
<span class="py-src-keyword">import</span> <span class="py-src-variable">os</span>
<span class="py-src-keyword">from</span> <span class="py-src-variable">sklearn</span> <span class="py-src-keyword">import</span> <span class="py-src-variable">svm</span>,<span class="py-src-variable">metrics</span>
<span class="py-src-keyword">from</span> <span class="py-src-variable">sklearn</span>.<span class="py-src-variable">model_selection</span> <span class="py-src-keyword">import</span> <span class="py-src-variable">train_test_split</span>
<span class="py-src-keyword">from</span> <span class="py-src-variable">sklearn</span>.<span class="py-src-variable">neural_network</span> <span class="py-src-keyword">import</span> <span class="py-src-variable">MLPClassifier</span>

<span class="py-src-keyword">import</span> <span class="py-src-variable">math</span>
<span class="py-src-keyword">import</span> <span class="py-src-variable">random</span>

<span class="py-src-comment"># corrigir o erro = TERM environment variable not set.</span>
<span class="py-src-comment"># os.environ["TERM"] = 'xterm'</span>

<span class="py-src-comment"># gera numeros aleatorios obedecendo a regra:  a &lt;= rand &lt; b</span>
<span class="py-src-keyword">def</span> <span class="py-src-identifier">criar_linha</span>():
    <span class="py-src-keyword">print</span> <span class="py-src-string">"-"</span>*<span class="py-src-number">80</span>

<span class="py-src-keyword">def</span> <span class="py-src-identifier">rand</span>(<span class="py-src-parameter">a</span>, <span class="py-src-parameter">b</span>):
    <span class="py-src-keyword">return</span> (<span class="py-src-variable">b</span>-<span class="py-src-variable">a</span>) * <span class="py-src-variable">random</span>.<span class="py-src-variable">random</span>() + <span class="py-src-variable">a</span>

<span class="py-src-comment"># nossa funcao sigmoide - gera graficos em forma de S</span>
<span class="py-src-comment"># funcao tangente hiperbolica</span>
<span class="py-src-keyword">def</span> <span class="py-src-identifier">funcao_ativacao_tang_hip</span>(<span class="py-src-parameter">x</span>):
    <span class="py-src-keyword">return</span> <span class="py-src-variable">math</span>.<span class="py-src-variable">tanh</span>(<span class="py-src-variable">x</span>)

<span class="py-src-comment"># derivada da tangente hiperbolica</span>
<span class="py-src-keyword">def</span> <span class="py-src-identifier">derivada_funcao_ativacao</span>(<span class="py-src-parameter">x</span>):
    <span class="py-src-variable">t</span> = <span class="py-src-variable">funcao_ativacao_tang_hip</span>(<span class="py-src-variable">x</span>)
    <span class="py-src-keyword">return</span> <span class="py-src-number">1</span> - <span class="py-src-variable">t</span>**<span class="py-src-number">2</span>

<span class="py-src-comment"># Normal logistic function.</span>
<span class="py-src-comment"># saida em [0, 1]</span>
<span class="py-src-keyword">def</span> <span class="py-src-identifier">funcao_ativacao_log</span>(<span class="py-src-parameter">x</span>):
    <span class="py-src-comment">#if(x&lt;0):</span>
    <span class="py-src-comment">#    x = x*(-1)</span>
    <span class="py-src-comment">#print "PORRA:" + str(x)</span>
    <span class="py-src-keyword">return</span> <span class="py-src-number">1</span> / ( <span class="py-src-number">1</span> + <span class="py-src-variable">math</span>.<span class="py-src-variable">exp</span>(-<span class="py-src-variable">x</span>))

<span class="py-src-comment"># derivada da funcao</span>
<span class="py-src-keyword">def</span> <span class="py-src-identifier">derivada_funcao_ativacao_log</span>(<span class="py-src-parameter">x</span>):
    <span class="py-src-comment">#print "funcao:" +str(x)</span>
    <span class="py-src-comment">#if(x&lt;0):</span>
    <span class="py-src-comment">#    x = x*(-1)</span>
    <span class="py-src-variable">ret</span> = -<span class="py-src-number">1</span>*<span class="py-src-variable">math</span>.<span class="py-src-variable">log</span>(<span class="py-src-variable">x</span>) * (<span class="py-src-number">1</span> - <span class="py-src-variable">math</span>.<span class="py-src-variable">log</span>(<span class="py-src-variable">x</span>))
    <span class="py-src-comment">#print "ret:" + str(ret)</span>
    <span class="py-src-keyword">return</span> <span class="py-src-variable">ret</span>

<span class="py-src-comment"># Logistic function with output in [-1, 1].</span>
<span class="py-src-keyword">def</span> <span class="py-src-identifier">funcao_ativacao_log2</span>(<span class="py-src-parameter">x</span>):
    <span class="py-src-keyword">return</span> <span class="py-src-number">1</span> - <span class="py-src-number">2</span> * <span class="py-src-variable">log</span>(<span class="py-src-variable">x</span>)

<span class="py-src-comment"># derivada da funcao</span>
<span class="py-src-keyword">def</span> <span class="py-src-identifier">derivada_funcao_ativacao_log2</span>(<span class="py-src-parameter">x</span>):

    <span class="py-src-keyword">return</span>  -<span class="py-src-number">5</span>*<span class="py-src-variable">math</span>.<span class="py-src-variable">log</span>(<span class="py-src-variable">x</span>) * (<span class="py-src-number">1</span> - <span class="py-src-variable">math</span>.<span class="py-src-variable">log</span>(<span class="py-src-variable">x</span>))

<span class="py-src-keyword">class</span> <span class="py-src-identifier">RedeNeural</span>:
    <span class="py-src-keyword">def</span> <span class="py-src-identifier">__init__</span>(<span class="py-src-parameter">self</span>, <span class="py-src-parameter">nos_entrada</span>, <span class="py-src-parameter">nos_ocultos</span>, <span class="py-src-parameter">nos_saida</span>):
        <span class="py-src-comment"># camada de entrada</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">nos_entrada</span> = <span class="py-src-variable">nos_entrada</span> + <span class="py-src-number">1</span> <span class="py-src-comment"># +1 por causa do no do bias</span>
        <span class="py-src-comment"># camada oculta</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span> = <span class="py-src-variable">nos_ocultos</span>
        <span class="py-src-comment"># camada de saida</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">nos_saida</span> = <span class="py-src-variable">nos_saida</span>
        <span class="py-src-comment"># hisamoto</span>
        <span class="py-src-comment"># quantidade maxima de max_interacoes</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">max_interacoes</span> = <span class="py-src-number">10</span>
        <span class="py-src-comment"># taxa de aprendizado</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">taxa_aprendizado</span> = <span class="py-src-number">0.01</span>
        <span class="py-src-comment"># momentum Normalmente eh ajustada entre 0.5 e 0.9</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">momentum</span> = <span class="py-src-number">0.1</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">teste</span> = <span class="py-src-number">0</span>

        <span class="py-src-comment"># activations for nodes</span>
        <span class="py-src-comment"># cria uma matriz, preenchida com uns, de uma linha pela quantidade de nos</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_entrada</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">ones</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_entrada</span>)
        <span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_ocultos</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">ones</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span>)
        <span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_saida</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">ones</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_saida</span>)

        <span class="py-src-comment"># contem os resultados das ativacoes de saida</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">resultados_ativacao_saida</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">ones</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_saida</span>)

        <span class="py-src-comment"># criar a matriz de pesos, preenchidas com zeros</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">wi</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">zeros</span>((<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_entrada</span>, <span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span>))
        <span class="py-src-variable">self</span>.<span class="py-src-variable">wo</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">zeros</span>((<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span>, <span class="py-src-variable">self</span>.<span class="py-src-variable">nos_saida</span>))

        <span class="py-src-comment"># adicionar os valores dos pesos</span>
        <span class="py-src-comment"># vetor de pesos da camada de entrada - intermediaria</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">i</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_entrada</span>):
            <span class="py-src-keyword">for</span> <span class="py-src-variable">j</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span>):
                <span class="py-src-comment">#self.wi[i][j] = rand(-0.2, 0.2)</span>
                <span class="py-src-variable">self</span>.<span class="py-src-variable">wi</span>[<span class="py-src-variable">i</span>][<span class="py-src-variable">j</span>] = <span class="py-src-number">0.01</span>

        <span class="py-src-comment"># vetor de pesos da camada intermediaria - saida</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">j</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span>):
            <span class="py-src-keyword">for</span> <span class="py-src-variable">k</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_saida</span>):
                <span class="py-src-comment">#self.wo[j][k] = rand(-2.0, 2.0)</span>
                <span class="py-src-variable">self</span>.<span class="py-src-variable">wo</span>[<span class="py-src-variable">j</span>][<span class="py-src-variable">k</span>] = -<span class="py-src-number">0.01</span>

        <span class="py-src-comment"># last change in weights for momentum</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">ci</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">zeros</span>((<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_entrada</span>, <span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span>))
        <span class="py-src-variable">self</span>.<span class="py-src-variable">co</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">zeros</span>((<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span>, <span class="py-src-variable">self</span>.<span class="py-src-variable">nos_saida</span>))

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">fase_forward</span>(<span class="py-src-parameter">self</span>, <span class="py-src-parameter">entradas</span>):

        <span class="py-src-keyword">if</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">teste</span>):
            <span class="py-src-keyword">print</span> <span class="py-src-string">"Entradas:"</span>
            <span class="py-src-keyword">print</span> <span class="py-src-variable">entradas</span>
        <span class="py-src-comment"># input activations: -1 por causa do bias</span>
        <span class="py-src-comment">#if(self.teste):</span>
        <span class="py-src-comment">#    print "fase_forward_valor: " +str(self.nos_entrada - 1);</span>
        <span class="py-src-comment">#    print "fase_forward_quantidade: " +str(self.nos_entrada);</span>
        <span class="py-src-comment">#    print "fase_forward_entrada: " +str(len(entradas));</span>

        <span class="py-src-comment">#print "Nos_entradas:" + str(self.nos_entrada)</span>

        <span class="py-src-keyword">if</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">teste</span>):
            <span class="py-src-keyword">print</span> <span class="py-src-string">"Nos entrada="</span> + <span class="py-src-variable">str</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_entrada</span>)

        <span class="py-src-keyword">for</span> <span class="py-src-variable">i</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_entrada</span> - <span class="py-src-number">1</span>):
        <span class="py-src-comment">#    if(self.teste):</span>
        <span class="py-src-comment">#        print "fase_forward_entradas:" +str(i)+"-"+str(entradas[i]);</span>
            <span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_entrada</span>[<span class="py-src-variable">i</span>] = <span class="py-src-variable">entradas</span>[<span class="py-src-variable">i</span>]
            <span class="py-src-keyword">if</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">teste</span>):
                <span class="py-src-keyword">print</span> <span class="py-src-string">"Valor Nos Entrada:"</span> + <span class="py-src-variable">str</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_entrada</span>[<span class="py-src-variable">i</span>])

        <span class="py-src-comment">#print "Entrada_1:"</span>
        <span class="py-src-comment">#print self.ativacao_entrada;</span>

        <span class="py-src-keyword">if</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">teste</span>):
            <span class="py-src-keyword">print</span> <span class="py-src-string">"Nos ocultos="</span> + <span class="py-src-variable">str</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span>)
        <span class="py-src-comment"># calcula as ativacoes dos neuronios da camada escondida</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">j</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span>):

            <span class="py-src-variable">soma</span> = <span class="py-src-number">0.0</span>
            <span class="py-src-keyword">for</span> <span class="py-src-variable">i</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_entrada</span>):
                <span class="py-src-variable">soma</span> = <span class="py-src-variable">soma</span> + <span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_entrada</span>[<span class="py-src-variable">i</span>] * <span class="py-src-variable">self</span>.<span class="py-src-variable">wi</span>[<span class="py-src-variable">i</span>][<span class="py-src-variable">j</span>]
                <span class="py-src-comment">#print "wi: " +"["+str(i)+"]"+"["+str(j)+"]"+ str(self.wi[i][j])</span>
                <span class="py-src-comment">#print "ativacao_entrada_1_Teste:" +str(self.ativacao_entrada[i])</span>

            <span class="py-src-keyword">if</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">teste</span>):
                <span class="py-src-keyword">print</span> <span class="py-src-string">"Soma Nos ocultos="</span> + <span class="py-src-variable">str</span>(<span class="py-src-variable">soma</span>)

            <span class="py-src-comment">#print "Soma_Nos_Ocultos:"+ str(soma)</span>

            <span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_ocultos</span>[<span class="py-src-variable">j</span>] = <span class="py-src-variable">funcao_ativacao_log</span>(<span class="py-src-variable">soma</span>)
            <span class="py-src-keyword">if</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">teste</span>):
                <span class="py-src-keyword">print</span> <span class="py-src-string">"Valor Nos Ocultos:"</span> + <span class="py-src-variable">str</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_ocultos</span>[<span class="py-src-variable">j</span>])
            <span class="py-src-comment">#print "AtivacaoOcultos_1:"+ str(self.ativacao_ocultos[j])</span>

        <span class="py-src-comment"># calcula as ativacoes dos neuronios da camada de saida</span>
        <span class="py-src-comment"># Note que as saidas dos neuronios da camada oculta fazem o papel de entrada</span>
        <span class="py-src-comment"># para os neuronios da camada de saida.</span>
        <span class="py-src-keyword">if</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">teste</span>):
            <span class="py-src-keyword">print</span> <span class="py-src-string">"Nos saida="</span> + <span class="py-src-variable">str</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_saida</span>)
        <span class="py-src-keyword">for</span> <span class="py-src-variable">j</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_saida</span>):
            <span class="py-src-variable">soma</span> = <span class="py-src-number">0.0</span>
            <span class="py-src-keyword">for</span> <span class="py-src-variable">i</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span>):
                <span class="py-src-variable">soma</span> = <span class="py-src-variable">soma</span> + <span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_ocultos</span>[<span class="py-src-variable">i</span>] * <span class="py-src-variable">self</span>.<span class="py-src-variable">wo</span>[<span class="py-src-variable">i</span>][<span class="py-src-variable">j</span>]

            <span class="py-src-comment">#print "Soma_1:" + str(soma)</span>
            <span class="py-src-keyword">if</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">teste</span>):
                <span class="py-src-keyword">print</span> <span class="py-src-string">"Soma_saida:"</span> + <span class="py-src-variable">str</span>(<span class="py-src-variable">soma</span>)

            <span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_saida</span>[<span class="py-src-variable">j</span>] = <span class="py-src-variable">funcao_ativacao_log</span>(<span class="py-src-variable">soma</span>)

        <span class="py-src-comment">#print "Ativacao Saida_1:" + str(self.ativacao_saida[0])</span>
        <span class="py-src-keyword">if</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">teste</span>):
            <span class="py-src-keyword">print</span> <span class="py-src-string">"Saida ativacao:"</span>
            <span class="py-src-keyword">print</span> <span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_saida</span>

        <span class="py-src-keyword">return</span> <span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_saida</span>


    <span class="py-src-keyword">def</span> <span class="py-src-identifier">fase_backward</span>(<span class="py-src-parameter">self</span>, <span class="py-src-parameter">saidas_desejadas</span>):

        <span class="py-src-comment"># calcular os gradientes locais dos neuronios da camada de saida</span>
        <span class="py-src-variable">output_deltas</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">zeros</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_saida</span>)
        <span class="py-src-variable">erro</span> = <span class="py-src-number">0.0</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">i</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_saida</span>):

            <span class="py-src-keyword">print</span> <span class="py-src-string">"Saida Desejada:"</span> + <span class="py-src-variable">str</span>(<span class="py-src-variable">saidas_desejadas</span>[<span class="py-src-variable">i</span>])
            <span class="py-src-keyword">print</span> <span class="py-src-string">"Ativacao saida:"</span> + <span class="py-src-variable">str</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_saida</span>[<span class="py-src-variable">i</span>])

            <span class="py-src-comment">#if(self.ativacao_saida[i] &lt; 0):</span>
            <span class="py-src-comment">#    self.ativacao_saida[i] = -1*self.ativacao_saida[i]</span>

            <span class="py-src-keyword">print</span> <span class="py-src-variable">str</span>(<span class="py-src-variable">saidas_desejadas</span>[<span class="py-src-variable">i</span>]) + <span class="py-src-string">" - "</span> +  <span class="py-src-variable">str</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_saida</span>[<span class="py-src-variable">i</span>])
            <span class="py-src-variable">erro</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">float64</span>(<span class="py-src-variable">saidas_desejadas</span>[<span class="py-src-variable">i</span>]) - <span class="py-src-variable">np</span>.<span class="py-src-variable">float64</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_saida</span>[<span class="py-src-variable">i</span>])
            <span class="py-src-keyword">print</span> <span class="py-src-string">"Erro:"</span> + <span class="py-src-variable">str</span>(<span class="py-src-variable">erro</span>)

            <span class="py-src-variable">output_deltas</span>[<span class="py-src-variable">i</span>] = <span class="py-src-variable">derivada_funcao_ativacao_log</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_saida</span>[<span class="py-src-variable">i</span>]) * <span class="py-src-variable">erro</span>
            <span class="py-src-comment">#print "output_deltas:"+str(output_deltas[i])</span>

        <span class="py-src-comment"># calcular os gradientes locais dos neuronios da camada escondida</span>
        <span class="py-src-variable">hidden_deltas</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">zeros</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span>)
        <span class="py-src-keyword">for</span> <span class="py-src-variable">i</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span>):
            <span class="py-src-variable">erro</span> = <span class="py-src-number">0.0</span>
            <span class="py-src-keyword">for</span> <span class="py-src-variable">j</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_saida</span>):
                <span class="py-src-variable">erro</span> = <span class="py-src-variable">erro</span> + <span class="py-src-variable">output_deltas</span>[<span class="py-src-variable">j</span>] * <span class="py-src-variable">self</span>.<span class="py-src-variable">wo</span>[<span class="py-src-variable">i</span>][<span class="py-src-variable">j</span>]
            <span class="py-src-variable">hidden_deltas</span>[<span class="py-src-variable">i</span>] = <span class="py-src-variable">derivada_funcao_ativacao_log</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_ocultos</span>[<span class="py-src-variable">i</span>]) * <span class="py-src-variable">erro</span>

        <span class="py-src-comment"># a partir da ultima camada ate a camada de entrada</span>
        <span class="py-src-comment"># os nos da camada atual ajustam seus pesos de forma a reduzir seus erros</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">i</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span>):
            <span class="py-src-keyword">for</span> <span class="py-src-variable">j</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_saida</span>):
                <span class="py-src-variable">change</span> = <span class="py-src-variable">output_deltas</span>[<span class="py-src-variable">j</span>] * <span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_ocultos</span>[<span class="py-src-variable">i</span>]
                <span class="py-src-comment">#print "change:"+str(change)</span>
                <span class="py-src-comment">#self.wo[i][j] = self.wo[i][j] + (self.taxa_aprendizado * change) + (self.momentum * self.co[i][j])</span>
                <span class="py-src-variable">self</span>.<span class="py-src-variable">wo</span>[<span class="py-src-variable">i</span>][<span class="py-src-variable">j</span>] = <span class="py-src-variable">self</span>.<span class="py-src-variable">wo</span>[<span class="py-src-variable">i</span>][<span class="py-src-variable">j</span>] + (<span class="py-src-variable">self</span>.<span class="py-src-variable">taxa_aprendizado</span> * <span class="py-src-variable">change</span>)
                <span class="py-src-variable">self</span>.<span class="py-src-variable">co</span>[<span class="py-src-variable">i</span>][<span class="py-src-variable">j</span>] = <span class="py-src-variable">change</span>

        <span class="py-src-comment"># atualizar os pesos da primeira camada</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">i</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_entrada</span>):
            <span class="py-src-keyword">for</span> <span class="py-src-variable">j</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">nos_ocultos</span>):
                <span class="py-src-variable">change</span> = <span class="py-src-variable">hidden_deltas</span>[<span class="py-src-variable">j</span>] * <span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_entrada</span>[<span class="py-src-variable">i</span>]
                <span class="py-src-comment">#self.wi[i][j] = self.wi[i][j] + (self.taxa_aprendizado * change) + (self.momentum * self.ci[i][j])</span>
                <span class="py-src-variable">self</span>.<span class="py-src-variable">wi</span>[<span class="py-src-variable">i</span>][<span class="py-src-variable">j</span>] = <span class="py-src-variable">self</span>.<span class="py-src-variable">wi</span>[<span class="py-src-variable">i</span>][<span class="py-src-variable">j</span>] + (<span class="py-src-variable">self</span>.<span class="py-src-variable">taxa_aprendizado</span> * <span class="py-src-variable">change</span>)
                <span class="py-src-variable">self</span>.<span class="py-src-variable">ci</span>[<span class="py-src-variable">i</span>][<span class="py-src-variable">j</span>] = <span class="py-src-variable">change</span>

        <span class="py-src-comment"># calcula erro</span>
        <span class="py-src-variable">erro</span> = <span class="py-src-number">0.0</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">i</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">len</span>(<span class="py-src-variable">saidas_desejadas</span>)):
            <span class="py-src-variable">erro</span> = <span class="py-src-variable">erro</span> + <span class="py-src-number">0.5</span> * (<span class="py-src-variable">saidas_desejadas</span>[<span class="py-src-variable">i</span>] - <span class="py-src-variable">self</span>.<span class="py-src-variable">ativacao_saida</span>[<span class="py-src-variable">i</span>]) ** <span class="py-src-number">2</span>
        <span class="py-src-keyword">return</span> <span class="py-src-variable">erro</span>

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">test</span>(<span class="py-src-parameter">self</span>, <span class="py-src-parameter">entradas_saidas</span>):
        <span class="py-src-variable">self</span>.<span class="py-src-variable">teste</span> = <span class="py-src-number">0</span>
        <span class="py-src-comment"># print entradas_saidas</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">p</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">entradas_saidas</span>:
            <span class="py-src-comment">#print "------------INi------------------"</span>
            <span class="py-src-comment">#print p[0]</span>
            <span class="py-src-comment">#print "---------------fim---------------"</span>
            <span class="py-src-variable">array</span> = <span class="py-src-variable">self</span>.<span class="py-src-variable">fase_forward</span>(<span class="py-src-variable">p</span>[<span class="py-src-number">0</span>])

            <span class="py-src-keyword">print</span>(<span class="py-src-string">'Saida encontrada/fase forward: '</span> + <span class="py-src-variable">str</span>(<span class="py-src-variable">array</span>[<span class="py-src-number">0</span>]))

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">treinar</span>(<span class="py-src-parameter">self</span>, <span class="py-src-parameter">entradas_saidas</span>):

        <span class="py-src-comment">#print entradas_saidas</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">i</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">max_interacoes</span>):
            <span class="py-src-variable">erro</span> = <span class="py-src-number">0.0</span>
            <span class="py-src-variable">l</span> = <span class="py-src-number">0</span>
            <span class="py-src-keyword">for</span> <span class="py-src-variable">p</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">entradas_saidas</span>:
                <span class="py-src-variable">entradas</span> = <span class="py-src-variable">p</span>[<span class="py-src-number">0</span>]
                <span class="py-src-variable">saidas_desejadas</span> = <span class="py-src-variable">p</span>[<span class="py-src-number">1</span>]

                <span class="py-src-variable">self</span>.<span class="py-src-variable">fase_forward</span>(<span class="py-src-variable">entradas</span>)
                <span class="py-src-variable">erro</span> = <span class="py-src-variable">erro</span> + <span class="py-src-variable">self</span>.<span class="py-src-variable">fase_backward</span>(<span class="py-src-variable">saidas_desejadas</span>)

            <span class="py-src-keyword">if</span> <span class="py-src-variable">i</span> % <span class="py-src-number">100</span> == <span class="py-src-number">0</span>:
                <span class="py-src-keyword">print</span> <span class="py-src-string">"Erro = %2.3f"</span>%<span class="py-src-variable">erro</span>

<span class="py-src-comment">########################################################################################################################</span>
<span class="py-src-comment">########################################################################################################################</span>
<span class="py-src-comment">########################################################################################################################</span>
<span class="py-src-comment">########################################################################################################################</span>
<span class="py-src-comment">########################################################################################################################</span>

<span class="py-src-keyword">class</span> <span class="py-src-identifier">Directions</span>:
    <span class="py-src-variable">NORTH</span> = <span class="py-src-string">'North'</span>
    <span class="py-src-variable">SOUTH</span> = <span class="py-src-string">'South'</span>
    <span class="py-src-variable">EAST</span> = <span class="py-src-string">'East'</span>
    <span class="py-src-variable">WEST</span> = <span class="py-src-string">'West'</span>
    <span class="py-src-variable">STOP</span> = <span class="py-src-string">'Stop'</span>

<span class="py-src-keyword">class</span> <span class="py-src-identifier">Region</span>():
    <span class="py-src-keyword">def</span> <span class="py-src-identifier">__init__</span>(<span class="py-src-parameter">self</span>):
        <span class="py-src-variable">self</span>.<span class="py-src-variable">max</span> = [-<span class="py-src-number">1</span>,-<span class="py-src-number">1</span>,-<span class="py-src-number">1</span>]
        <span class="py-src-variable">self</span>.<span class="py-src-variable">min</span> = [<span class="py-src-number">256</span>,<span class="py-src-number">256</span>,<span class="py-src-number">256</span>]

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">set</span>(<span class="py-src-parameter">self</span>,<span class="py-src-parameter">m</span>):
        <span class="py-src-comment"># min</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">i</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-number">3</span>):
            <span class="py-src-keyword">if</span> <span class="py-src-variable">m</span>[<span class="py-src-variable">i</span>] &lt; <span class="py-src-variable">self</span>.<span class="py-src-variable">min</span>[<span class="py-src-variable">i</span>]:
                <span class="py-src-variable">self</span>.<span class="py-src-variable">min</span>[<span class="py-src-variable">i</span>] = <span class="py-src-variable">m</span>[<span class="py-src-variable">i</span>]
        <span class="py-src-comment"># max</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">i</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-number">3</span>):
            <span class="py-src-keyword">if</span> <span class="py-src-variable">m</span>[<span class="py-src-variable">i</span>] &gt; <span class="py-src-variable">self</span>.<span class="py-src-variable">max</span>[<span class="py-src-variable">i</span>]:
                <span class="py-src-variable">self</span>.<span class="py-src-variable">max</span>[<span class="py-src-variable">i</span>] = <span class="py-src-variable">m</span>[<span class="py-src-variable">i</span>]

<span class="py-src-keyword">class</span> <span class="py-src-identifier">GetColor</span>():
    <span class="py-src-keyword">def</span> <span class="py-src-identifier">__init__</span>(<span class="py-src-parameter">self</span>):
        <span class="py-src-variable">self</span>.<span class="py-src-variable">frame</span> = <span class="py-src-variable">None</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">x</span> = <span class="py-src-number">0</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">y</span> = <span class="py-src-number">0</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">dist</span> = <span class="py-src-number">0</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">px</span> = <span class="py-src-number">0</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">py</span> = <span class="py-src-number">0</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">ltmin</span> = <span class="py-src-variable">None</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">ltmax</span> = <span class="py-src-variable">None</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">size</span> = <span class="py-src-number">200</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">start</span> = (<span class="py-src-number">380</span>,<span class="py-src-number">140</span>)
        <span class="py-src-variable">self</span>.<span class="py-src-variable">region</span> = <span class="py-src-variable">Region</span>()
        <span class="py-src-variable">self</span>.<span class="py-src-variable">thsv</span> = <span class="py-src-variable">None</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">myframe</span> = <span class="py-src-variable">None</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">main_dir</span> = <span class="py-src-string">'dataset'</span>
        <span class="py-src-variable">cv2</span>.<span class="py-src-variable">namedWindow</span>(<span class="py-src-string">'frame'</span>)
        <span class="py-src-variable">cv2</span>.<span class="py-src-variable">namedWindow</span>(<span class="py-src-string">'patch'</span>)
        <span class="py-src-variable">cv2</span>.<span class="py-src-variable">setMouseCallback</span>(<span class="py-src-string">'frame'</span>,<span class="py-src-variable">self</span>.<span class="py-src-variable">mouse_callback</span>)
        <span class="py-src-variable">self</span>.<span class="py-src-variable">pressed</span> = <span class="py-src-variable">False</span>

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">reset</span>(<span class="py-src-parameter">self</span>):
        <span class="py-src-variable">self</span>.<span class="py-src-variable">x</span> = <span class="py-src-number">0</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">y</span> = <span class="py-src-number">0</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">ltmin</span> = <span class="py-src-variable">None</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">ltmax</span> = <span class="py-src-variable">None</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">region</span> = <span class="py-src-variable">Region</span>()
        <span class="py-src-variable">self</span>.<span class="py-src-variable">show</span>()


    <span class="py-src-keyword">def</span> <span class="py-src-identifier">show</span>(<span class="py-src-parameter">self</span>):
        <span class="py-src-variable">text_msg</span> = <span class="py-src-string">'%d %d %d'</span>%(<span class="py-src-variable">self</span>.<span class="py-src-variable">x</span>,<span class="py-src-variable">self</span>.<span class="py-src-variable">y</span>,<span class="py-src-variable">self</span>.<span class="py-src-variable">dist</span>)
        <span class="py-src-variable">cv2</span>.<span class="py-src-variable">putText</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">frame</span>,<span class="py-src-variable">text_msg</span>,(<span class="py-src-number">10</span>,<span class="py-src-variable">self</span>.<span class="py-src-variable">frame</span>.<span class="py-src-variable">shape</span>[<span class="py-src-number">0</span>]-<span class="py-src-number">20</span>), <span class="py-src-variable">cv2</span>.<span class="py-src-variable">FONT_HERSHEY_SIMPLEX</span>, <span class="py-src-number">0.5</span>, (<span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">255</span>))
        <span class="py-src-variable">cv2</span>.<span class="py-src-variable">imshow</span>(<span class="py-src-string">'frame'</span>,<span class="py-src-variable">self</span>.<span class="py-src-variable">frame</span>)
        <span class="py-src-keyword">if</span> (<span class="py-src-variable">self</span>.<span class="py-src-variable">thsv</span> <span class="py-src-keyword">is</span> <span class="py-src-keyword">not</span> <span class="py-src-variable">None</span>):  <span class="py-src-variable">cv2</span>.<span class="py-src-variable">imshow</span>(<span class="py-src-string">'patch'</span>,<span class="py-src-variable">self</span>.<span class="py-src-variable">thsv</span>)
        <span class="py-src-keyword">else</span>:  <span class="py-src-variable">cv2</span>.<span class="py-src-variable">imshow</span>(<span class="py-src-string">'patch'</span>,<span class="py-src-variable">self</span>.<span class="py-src-variable">cropped</span>)

        <span class="py-src-keyword">if</span> (<span class="py-src-variable">self</span>.<span class="py-src-variable">myframe</span> <span class="py-src-keyword">is</span> <span class="py-src-keyword">not</span> <span class="py-src-variable">None</span>): <span class="py-src-variable">cv2</span>.<span class="py-src-variable">imshow</span>(<span class="py-src-string">'result'</span>,<span class="py-src-variable">self</span>.<span class="py-src-variable">myframe</span>)

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">process_myframe</span>(<span class="py-src-parameter">self</span>):
        <span class="py-src-keyword">if</span> <span class="py-src-variable">self</span>.<span class="py-src-variable">thsv</span> <span class="py-src-keyword">is</span> <span class="py-src-keyword">not</span> <span class="py-src-variable">None</span>:
            <span class="py-src-variable">im2</span>, <span class="py-src-variable">contours</span>, <span class="py-src-variable">hierarchy</span> = <span class="py-src-variable">cv2</span>.<span class="py-src-variable">findContours</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">thsv</span>.<span class="py-src-variable">copy</span>(),<span class="py-src-variable">cv2</span>.<span class="py-src-variable">RETR_TREE</span>,<span class="py-src-variable">cv2</span>.<span class="py-src-variable">CHAIN_APPROX_SIMPLE</span>)
            <span class="py-src-variable">self</span>.<span class="py-src-variable">myframe</span> = <span class="py-src-variable">self</span>.<span class="py-src-variable">cropped</span>.<span class="py-src-variable">copy</span>()
            <span class="py-src-variable">tcontours</span> = []
            <span class="py-src-keyword">for</span> <span class="py-src-variable">cnt</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">contours</span>:
                <span class="py-src-variable">perimeter</span> = <span class="py-src-variable">cv2</span>.<span class="py-src-variable">arcLength</span>(<span class="py-src-variable">cnt</span>,<span class="py-src-variable">True</span>)
                <span class="py-src-keyword">if</span> <span class="py-src-variable">perimeter</span> &gt; <span class="py-src-number">200</span>:
                    <span class="py-src-variable">tcontours</span>.<span class="py-src-variable">append</span>(<span class="py-src-variable">cnt</span>)

            <span class="py-src-variable">cv2</span>.<span class="py-src-variable">drawContours</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">myframe</span>, <span class="py-src-variable">tcontours</span>, -<span class="py-src-number">1</span>, (<span class="py-src-number">0</span>,<span class="py-src-number">255</span>,<span class="py-src-number">0</span>), <span class="py-src-number">3</span>)

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">save_patch</span>(<span class="py-src-parameter">self</span>,<span class="py-src-parameter">patch_class</span>):
        <span class="py-src-keyword">if</span> <span class="py-src-variable">self</span>.<span class="py-src-variable">thsv</span> <span class="py-src-keyword">is</span> <span class="py-src-keyword">not</span> <span class="py-src-variable">None</span>:
            <span class="py-src-keyword">if</span> <span class="py-src-keyword">not</span> <span class="py-src-variable">os</span>.<span class="py-src-variable">path</span>.<span class="py-src-variable">exists</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">main_dir</span>):
                <span class="py-src-variable">os</span>.<span class="py-src-variable">makedirs</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">main_dir</span>)
            <span class="py-src-variable">counter</span> = <span class="py-src-number">0</span>
            <span class="py-src-keyword">for</span> <span class="py-src-variable">file_name</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">os</span>.<span class="py-src-variable">listdir</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">main_dir</span>):
                <span class="py-src-keyword">if</span> <span class="py-src-variable">file_name</span>.<span class="py-src-variable">find</span>(<span class="py-src-string">'.png'</span>) &gt; <span class="py-src-number">0</span>:
                    <span class="py-src-variable">counter</span> += <span class="py-src-number">1</span>
            <span class="py-src-variable">lfile_name</span> = <span class="py-src-variable">self</span>.<span class="py-src-variable">main_dir</span>+<span class="py-src-variable">os</span>.<span class="py-src-variable">sep</span>+<span class="py-src-string">"file%05d_%s.png"</span>%(<span class="py-src-variable">counter</span>,<span class="py-src-variable">patch_class</span>)
            <span class="py-src-variable">cv2</span>.<span class="py-src-variable">imwrite</span>(<span class="py-src-variable">lfile_name</span>,<span class="py-src-variable">self</span>.<span class="py-src-variable">thsv</span>)
            <span class="py-src-keyword">print</span> <span class="py-src-string">"%s saved!"</span>%(<span class="py-src-variable">lfile_name</span>)

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">update_threshold</span>(<span class="py-src-parameter">self</span>):
        <span class="py-src-keyword">if</span> <span class="py-src-variable">self</span>.<span class="py-src-variable">ltmin</span> <span class="py-src-keyword">is</span> <span class="py-src-keyword">not</span> <span class="py-src-variable">None</span>:
            <span class="py-src-variable">thsv</span> = <span class="py-src-variable">cv2</span>.<span class="py-src-variable">inRange</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">hsv</span>, <span class="py-src-variable">self</span>.<span class="py-src-variable">ltmin</span>, <span class="py-src-variable">self</span>.<span class="py-src-variable">ltmax</span>)
            <span class="py-src-variable">self</span>.<span class="py-src-variable">thsv</span> = <span class="py-src-variable">cv2</span>.<span class="py-src-variable">GaussianBlur</span>(<span class="py-src-variable">thsv</span>,(<span class="py-src-number">5</span>,<span class="py-src-number">5</span>), <span class="py-src-number">0</span>)

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">set_frame</span>(<span class="py-src-parameter">self</span>,<span class="py-src-parameter">frame</span>):

        <span class="py-src-variable">crop_start</span> = <span class="py-src-variable">self</span>.<span class="py-src-variable">start</span>
        <span class="py-src-variable">crop_end</span>   = (<span class="py-src-variable">self</span>.<span class="py-src-variable">start</span>[<span class="py-src-number">0</span>] + <span class="py-src-variable">self</span>.<span class="py-src-variable">size</span>,<span class="py-src-variable">self</span>.<span class="py-src-variable">start</span>[<span class="py-src-number">1</span>]+<span class="py-src-variable">self</span>.<span class="py-src-variable">size</span>  )
        <span class="py-src-variable">cv2</span>.<span class="py-src-variable">rectangle</span>(<span class="py-src-variable">frame</span>,<span class="py-src-variable">crop_start</span>,<span class="py-src-variable">crop_end</span>,(<span class="py-src-number">0</span>,<span class="py-src-number">255</span>,<span class="py-src-number">0</span>),<span class="py-src-number">0</span>)
        <span class="py-src-variable">self</span>.<span class="py-src-variable">cropped</span> = <span class="py-src-variable">frame</span>[<span class="py-src-variable">crop_start</span>[<span class="py-src-number">1</span>]:<span class="py-src-variable">crop_end</span>[<span class="py-src-number">1</span>],<span class="py-src-variable">crop_start</span>[<span class="py-src-number">0</span>]:<span class="py-src-variable">crop_end</span>[<span class="py-src-number">0</span>]]
        <span class="py-src-variable">self</span>.<span class="py-src-variable">frame</span> = <span class="py-src-variable">frame</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">hsv</span> = <span class="py-src-variable">cv2</span>.<span class="py-src-variable">cvtColor</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">cropped</span>, <span class="py-src-variable">cv2</span>.<span class="py-src-variable">COLOR_BGR2HSV</span>)


    <span class="py-src-keyword">def</span> <span class="py-src-identifier">in_cropped_region</span>(<span class="py-src-parameter">self</span>,<span class="py-src-parameter">x</span>,<span class="py-src-parameter">y</span>):
        <span class="py-src-keyword">if</span> <span class="py-src-variable">x</span> &gt; <span class="py-src-variable">self</span>.<span class="py-src-variable">start</span>[<span class="py-src-number">0</span>] <span class="py-src-keyword">and</span> <span class="py-src-variable">x</span> &lt; <span class="py-src-variable">self</span>.<span class="py-src-variable">start</span>[<span class="py-src-number">0</span>] + <span class="py-src-variable">self</span>.<span class="py-src-variable">size</span>:
            <span class="py-src-keyword">if</span> <span class="py-src-variable">y</span> &gt; <span class="py-src-variable">self</span>.<span class="py-src-variable">start</span>[<span class="py-src-number">1</span>] <span class="py-src-keyword">and</span> <span class="py-src-variable">y</span> &lt; <span class="py-src-variable">self</span>.<span class="py-src-variable">start</span>[<span class="py-src-number">0</span>] + <span class="py-src-variable">self</span>.<span class="py-src-variable">size</span>:
                <span class="py-src-keyword">return</span> <span class="py-src-variable">True</span>
        <span class="py-src-keyword">return</span> <span class="py-src-variable">False</span>

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">save</span>(<span class="py-src-parameter">self</span>):
        <span class="py-src-variable">f</span> = <span class="py-src-variable">open</span>(<span class="py-src-string">'config.json'</span>,<span class="py-src-string">'w'</span>)
        <span class="py-src-variable">tcolor</span> = (<span class="py-src-variable">self</span>.<span class="py-src-variable">region</span>.<span class="py-src-variable">min</span>,<span class="py-src-variable">self</span>.<span class="py-src-variable">region</span>.<span class="py-src-variable">max</span>)
        <span class="py-src-variable">data</span> = {<span class="py-src-string">'color'</span>: <span class="py-src-variable">tcolor</span>, <span class="py-src-string">'start'</span>: <span class="py-src-variable">self</span>.<span class="py-src-variable">start</span>}
        <span class="py-src-variable">json</span>.<span class="py-src-variable">dump</span>(<span class="py-src-variable">data</span>,<span class="py-src-variable">f</span>)
        <span class="py-src-variable">f</span>.<span class="py-src-variable">close</span>()
    <span class="py-src-keyword">def</span> <span class="py-src-identifier">load</span>(<span class="py-src-parameter">self</span>):
        <span class="py-src-variable">f</span> = <span class="py-src-variable">open</span>(<span class="py-src-string">'config.json'</span>)
        <span class="py-src-variable">data</span> = <span class="py-src-variable">json</span>.<span class="py-src-variable">load</span>(<span class="py-src-variable">f</span>)
        <span class="py-src-variable">f</span>.<span class="py-src-variable">close</span>()
        <span class="py-src-variable">self</span>.<span class="py-src-variable">region</span>.<span class="py-src-variable">set</span>(<span class="py-src-variable">data</span>[<span class="py-src-string">'color'</span>][<span class="py-src-number">0</span>])
        <span class="py-src-variable">self</span>.<span class="py-src-variable">region</span>.<span class="py-src-variable">set</span>(<span class="py-src-variable">data</span>[<span class="py-src-string">'color'</span>][<span class="py-src-number">1</span>])
        <span class="py-src-variable">self</span>.<span class="py-src-variable">start</span> = (<span class="py-src-variable">data</span>[<span class="py-src-string">'start'</span>][<span class="py-src-number">0</span>],<span class="py-src-variable">data</span>[<span class="py-src-string">'start'</span>][<span class="py-src-number">1</span>])
        <span class="py-src-variable">self</span>.<span class="py-src-variable">ltmin</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">array</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">region</span>.<span class="py-src-variable">min</span>)
        <span class="py-src-variable">self</span>.<span class="py-src-variable">ltmax</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">array</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">region</span>.<span class="py-src-variable">max</span>)

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">mouse_callback</span>(<span class="py-src-parameter">self</span>, <span class="py-src-parameter">event</span>, <span class="py-src-parameter">x</span>, <span class="py-src-parameter">y</span>, <span class="py-src-parameter">flags</span>, <span class="py-src-parameter">param</span>):
        <span class="py-src-variable">self</span>.<span class="py-src-variable">x</span> = <span class="py-src-variable">x</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">y</span> = <span class="py-src-variable">y</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">dist</span> = <span class="py-src-variable">dist</span> = <span class="py-src-variable">abs</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">x</span>-<span class="py-src-variable">self</span>.<span class="py-src-variable">px</span>) +<span class="py-src-variable">abs</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">y</span> - <span class="py-src-variable">self</span>.<span class="py-src-variable">py</span>)
        <span class="py-src-keyword">if</span> <span class="py-src-variable">event</span> == <span class="py-src-variable">cv2</span>.<span class="py-src-variable">EVENT_MOUSEMOVE</span>:
            <span class="py-src-keyword">if</span> <span class="py-src-variable">self</span>.<span class="py-src-variable">pressed</span> <span class="py-src-keyword">and</span> <span class="py-src-variable">dist</span> &gt; <span class="py-src-number">20</span>:
                <span class="py-src-variable">self</span>.<span class="py-src-variable">start</span> = (<span class="py-src-variable">x</span>,<span class="py-src-variable">y</span>)
        <span class="py-src-keyword">if</span> <span class="py-src-variable">event</span> == <span class="py-src-variable">cv2</span>.<span class="py-src-variable">EVENT_LBUTTONDOWN</span>:
            <span class="py-src-variable">self</span>.<span class="py-src-variable">px</span> = <span class="py-src-variable">x</span>
            <span class="py-src-variable">self</span>.<span class="py-src-variable">py</span> = <span class="py-src-variable">y</span>
            <span class="py-src-variable">self</span>.<span class="py-src-variable">pressed</span> = <span class="py-src-variable">True</span>
        <span class="py-src-keyword">elif</span> <span class="py-src-variable">event</span> == <span class="py-src-variable">cv2</span>.<span class="py-src-variable">EVENT_LBUTTONUP</span>:
            <span class="py-src-variable">self</span>.<span class="py-src-variable">pressed</span> = <span class="py-src-variable">False</span>
            <span class="py-src-keyword">if</span> <span class="py-src-variable">dist</span> &lt; <span class="py-src-number">1</span> <span class="py-src-keyword">and</span> <span class="py-src-variable">self</span>.<span class="py-src-variable">in_cropped_region</span>(<span class="py-src-variable">x</span>,<span class="py-src-variable">y</span>):
                <span class="py-src-variable">box</span> = <span class="py-src-number">1</span>
                <span class="py-src-variable">lx</span> = <span class="py-src-variable">x</span> - <span class="py-src-variable">self</span>.<span class="py-src-variable">start</span>[<span class="py-src-number">0</span>]
                <span class="py-src-variable">ly</span> = <span class="py-src-variable">y</span> - <span class="py-src-variable">self</span>.<span class="py-src-variable">start</span>[<span class="py-src-number">1</span>]
                <span class="py-src-variable">x1</span> = <span class="py-src-variable">lx</span> - <span class="py-src-variable">box</span>
                <span class="py-src-variable">x2</span> = <span class="py-src-variable">lx</span> + <span class="py-src-variable">box</span>
                <span class="py-src-variable">y1</span> = <span class="py-src-variable">ly</span> - <span class="py-src-variable">box</span>
                <span class="py-src-variable">y2</span> = <span class="py-src-variable">ly</span> + <span class="py-src-variable">box</span>
                <span class="py-src-variable">cframe</span> = <span class="py-src-variable">self</span>.<span class="py-src-variable">hsv</span>[<span class="py-src-variable">y1</span>:<span class="py-src-variable">y2</span>,<span class="py-src-variable">x1</span>:<span class="py-src-variable">x2</span>]
                <span class="py-src-keyword">for</span> <span class="py-src-variable">line</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">cframe</span>:
                    <span class="py-src-keyword">for</span> <span class="py-src-variable">cols</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">line</span>:
                        <span class="py-src-keyword">if</span> <span class="py-src-variable">cols</span>[<span class="py-src-number">0</span>] !=<span class="py-src-number">0</span>:
                            <span class="py-src-variable">self</span>.<span class="py-src-variable">region</span>.<span class="py-src-variable">set</span>(<span class="py-src-variable">cols</span>.<span class="py-src-variable">tolist</span>())
                <span class="py-src-variable">tmin</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">array</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">region</span>.<span class="py-src-variable">min</span>)
                <span class="py-src-variable">tmax</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">array</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">region</span>.<span class="py-src-variable">max</span>)
                <span class="py-src-variable">self</span>.<span class="py-src-variable">ltmin</span> = <span class="py-src-variable">tmin</span>
                <span class="py-src-variable">self</span>.<span class="py-src-variable">ltmax</span> = <span class="py-src-variable">tmax</span>

<span class="py-src-keyword">class</span> <span class="py-src-identifier">AnyJoystick</span>:
    <span class="py-src-keyword">def</span> <span class="py-src-identifier">__init__</span>(<span class="py-src-parameter">self</span>,<span class="py-src-parameter">main_dir</span> = <span class="py-src-string">'dataset'</span>):
        <span class="py-src-variable">self</span>.<span class="py-src-variable">main_dir</span> = <span class="py-src-variable">main_dir</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">X</span> = []
        <span class="py-src-variable">self</span>.<span class="py-src-variable">y</span> = []
        <span class="py-src-variable">self</span>.<span class="py-src-variable">hclass</span> = <span class="py-src-variable">dict</span>()
        <span class="py-src-variable">self</span>.<span class="py-src-variable">vclass</span> = []
        <span class="py-src-variable">self</span>.<span class="py-src-variable">clf</span> = <span class="py-src-variable">None</span>
        <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span> =<span class="py-src-number">0</span>

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">img2instance</span>(<span class="py-src-parameter">self</span>,<span class="py-src-parameter">frame</span>):
        <span class="py-src-variable">dsize</span> = (<span class="py-src-number">20</span>,<span class="py-src-number">20</span>)
        <span class="py-src-variable">smaller</span> = <span class="py-src-variable">cv2</span>.<span class="py-src-variable">resize</span>(<span class="py-src-variable">frame</span>,<span class="py-src-variable">dsize</span>)
        <span class="py-src-keyword">if</span> <span class="py-src-variable">len</span>(<span class="py-src-variable">smaller</span>.<span class="py-src-variable">shape</span>) == <span class="py-src-number">3</span>:
            <span class="py-src-variable">instance</span> = <span class="py-src-variable">smaller</span>[:,:,<span class="py-src-number">0</span>].<span class="py-src-variable">reshape</span>((<span class="py-src-number">1</span>,-<span class="py-src-number">1</span>)).<span class="py-src-variable">tolist</span>()[<span class="py-src-number">0</span>]
        <span class="py-src-keyword">else</span>:
            <span class="py-src-variable">instance</span> = <span class="py-src-variable">smaller</span>.<span class="py-src-variable">reshape</span>((<span class="py-src-number">1</span>,-<span class="py-src-number">1</span>)).<span class="py-src-variable">tolist</span>()[<span class="py-src-number">0</span>]
        <span class="py-src-keyword">return</span> <span class="py-src-variable">instance</span>

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">num_class</span>(<span class="py-src-parameter">self</span>,<span class="py-src-parameter">tclass</span>):
        <span class="py-src-keyword">if</span> <span class="py-src-variable">tclass</span> <span class="py-src-keyword">not</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">self</span>.<span class="py-src-variable">hclass</span>.<span class="py-src-variable">keys</span>():
            <span class="py-src-variable">next_i</span> = <span class="py-src-variable">len</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">vclass</span>)
            <span class="py-src-variable">self</span>.<span class="py-src-variable">vclass</span>.<span class="py-src-variable">append</span>(<span class="py-src-variable">tclass</span>)
            <span class="py-src-variable">self</span>.<span class="py-src-variable">hclass</span>[<span class="py-src-variable">tclass</span>] = <span class="py-src-variable">next_i</span>
        <span class="py-src-keyword">return</span> <span class="py-src-variable">self</span>.<span class="py-src-variable">hclass</span>[<span class="py-src-variable">tclass</span>]

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">load</span>(<span class="py-src-parameter">self</span>):
        <span class="py-src-variable">cont</span> = <span class="py-src-number">0</span>;
        <span class="py-src-keyword">for</span> <span class="py-src-variable">file_name</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">sorted</span>(<span class="py-src-variable">os</span>.<span class="py-src-variable">listdir</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">main_dir</span>)):
            <span class="py-src-comment">#print cont</span>
            <span class="py-src-variable">cont</span> = <span class="py-src-variable">cont</span>+<span class="py-src-number">1</span>
            <span class="py-src-variable">fname</span> = <span class="py-src-variable">self</span>.<span class="py-src-variable">main_dir</span>+<span class="py-src-variable">os</span>.<span class="py-src-variable">sep</span>+<span class="py-src-variable">file_name</span>
            <span class="py-src-variable">frame</span> = <span class="py-src-variable">cv2</span>.<span class="py-src-variable">imread</span>(<span class="py-src-variable">fname</span>)
            <span class="py-src-variable">tclass</span> = <span class="py-src-variable">file_name</span>.<span class="py-src-variable">split</span>(<span class="py-src-string">'.'</span>)[<span class="py-src-number">0</span>].<span class="py-src-variable">split</span>(<span class="py-src-string">'_'</span>)[<span class="py-src-number">1</span>]
            <span class="py-src-variable">self</span>.<span class="py-src-variable">X</span>.<span class="py-src-variable">append</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">img2instance</span>(<span class="py-src-variable">frame</span>))
            <span class="py-src-variable">self</span>.<span class="py-src-variable">y</span>.<span class="py-src-variable">append</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">num_class</span>(<span class="py-src-variable">tclass</span>))

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">train</span>(<span class="py-src-parameter">self</span>):

        <span class="py-src-variable">self</span>.<span class="py-src-variable">clf</span> = <span class="py-src-variable">MLPClassifier</span>(<span class="py-src-variable">solver</span>=<span class="py-src-string">'lbfgs'</span>, <span class="py-src-variable">alpha</span>=<span class="py-src-number">10</span>, <span class="py-src-variable">hidden_layer_sizes</span>=(<span class="py-src-number">15</span>,), <span class="py-src-variable">random_state</span>=<span class="py-src-number">1</span>)
        <span class="py-src-variable">self</span>.<span class="py-src-variable">clf</span> = <span class="py-src-variable">svm</span>.<span class="py-src-variable">SVC</span>(<span class="py-src-variable">gamma</span>=<span class="py-src-number">0.1</span>)
        <span class="py-src-variable">self</span>.<span class="py-src-variable">evaluate</span>()

        <span class="py-src-variable">self</span>.<span class="py-src-variable">clf</span>.<span class="py-src-variable">fit</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">X</span>,<span class="py-src-variable">self</span>.<span class="py-src-variable">y</span>)

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">evaluate</span>(<span class="py-src-parameter">self</span>):
        <span class="py-src-variable">X_train</span>, <span class="py-src-variable">X_test</span>, <span class="py-src-variable">y_train</span>, <span class="py-src-variable">y_test</span> = <span class="py-src-variable">train_test_split</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">X</span>, <span class="py-src-variable">self</span>.<span class="py-src-variable">y</span>, <span class="py-src-variable">test_size</span>=<span class="py-src-number">0.30</span>, <span class="py-src-variable">random_state</span>=<span class="py-src-number">42</span>)
        <span class="py-src-variable">self</span>.<span class="py-src-variable">clf</span>.<span class="py-src-variable">fit</span>(<span class="py-src-variable">X_train</span>,<span class="py-src-variable">y_train</span>)
        <span class="py-src-variable">pred</span> = <span class="py-src-variable">self</span>.<span class="py-src-variable">clf</span>.<span class="py-src-variable">predict</span>(<span class="py-src-variable">X_test</span>)

        <span class="py-src-variable">matrix</span> = []

        <span class="py-src-comment"># hisamoto</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">listax</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">X_train</span>:
            <span class="py-src-variable">lista_y</span> = [<span class="py-src-variable">y_train</span>[<span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span>]]

            <span class="py-src-keyword">if</span>(<span class="py-src-variable">lista_y</span> == [<span class="py-src-number">4</span>]):
                <span class="py-src-comment">#print listax</span>
                <span class="py-src-variable">contador</span> = <span class="py-src-number">0</span>
                <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">listax</span>:
                    <span class="py-src-variable">listax</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-variable">listax</span>[<span class="py-src-variable">contador</span>]/<span class="py-src-number">100.0</span>
                    <span class="py-src-variable">contador</span> = <span class="py-src-variable">contador</span> + <span class="py-src-number">1</span>

                <span class="py-src-variable">contador</span> = <span class="py-src-number">0</span>
                <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">lista_y</span>:
                    <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>]/<span class="py-src-number">10.0</span>
                    <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-number">0.44</span>
                    <span class="py-src-variable">contador</span> = <span class="py-src-variable">contador</span> + <span class="py-src-number">1</span>

                <span class="py-src-variable">matrix</span>.<span class="py-src-variable">append</span>([<span class="py-src-variable">listax</span>, <span class="py-src-variable">lista_y</span>])

            <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span> = <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span>+<span class="py-src-number">1</span>

        <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span> = <span class="py-src-number">0</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">listax</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">X_train</span>:
            <span class="py-src-variable">lista_y</span> = [<span class="py-src-variable">y_train</span>[<span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span>]]

            <span class="py-src-keyword">if</span>(<span class="py-src-variable">lista_y</span> == [<span class="py-src-number">3</span>]):
                <span class="py-src-comment">#print listax</span>
                <span class="py-src-variable">contador</span> = <span class="py-src-number">0</span>
                <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">listax</span>:
                    <span class="py-src-variable">listax</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-variable">listax</span>[<span class="py-src-variable">contador</span>]/<span class="py-src-number">100.0</span>
                    <span class="py-src-variable">contador</span> = <span class="py-src-variable">contador</span> + <span class="py-src-number">1</span>

                <span class="py-src-variable">contador</span> = <span class="py-src-number">0</span>
                <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">lista_y</span>:
                    <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>]/<span class="py-src-number">10.0</span>
                    <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-number">0.33</span>
                    <span class="py-src-variable">contador</span> = <span class="py-src-variable">contador</span> + <span class="py-src-number">1</span>

                <span class="py-src-variable">matrix</span>.<span class="py-src-variable">append</span>([<span class="py-src-variable">listax</span>, <span class="py-src-variable">lista_y</span>])

            <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span> = <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span>+<span class="py-src-number">1</span>

        <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span> = <span class="py-src-number">0</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">listax</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">X_train</span>:
            <span class="py-src-variable">lista_y</span> = [<span class="py-src-variable">y_train</span>[<span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span>]]

            <span class="py-src-keyword">if</span>(<span class="py-src-variable">lista_y</span> == [<span class="py-src-number">2</span>]):
                <span class="py-src-comment">#print listax</span>
                <span class="py-src-variable">contador</span> = <span class="py-src-number">0</span>
                <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">listax</span>:
                    <span class="py-src-variable">listax</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-variable">listax</span>[<span class="py-src-variable">contador</span>]/<span class="py-src-number">100.0</span>
                    <span class="py-src-variable">contador</span> = <span class="py-src-variable">contador</span> + <span class="py-src-number">1</span>

                <span class="py-src-variable">contador</span> = <span class="py-src-number">0</span>
                <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">lista_y</span>:
                    <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>]/<span class="py-src-number">10.0</span>
                    <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-number">0.22</span>
                    <span class="py-src-variable">contador</span> = <span class="py-src-variable">contador</span> + <span class="py-src-number">1</span>

                <span class="py-src-variable">matrix</span>.<span class="py-src-variable">append</span>([<span class="py-src-variable">listax</span>, <span class="py-src-variable">lista_y</span>])

            <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span> = <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span>+<span class="py-src-number">1</span>

        <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span> = <span class="py-src-number">0</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">listax</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">X_train</span>:
            <span class="py-src-variable">lista_y</span> = [<span class="py-src-variable">y_train</span>[<span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span>]]

            <span class="py-src-keyword">if</span>(<span class="py-src-variable">lista_y</span> == [<span class="py-src-number">1</span>]):
                <span class="py-src-comment">#print listax</span>
                <span class="py-src-variable">contador</span> = <span class="py-src-number">0</span>
                <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">listax</span>:
                    <span class="py-src-variable">listax</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-variable">listax</span>[<span class="py-src-variable">contador</span>]/<span class="py-src-number">100.0</span>
                    <span class="py-src-variable">contador</span> = <span class="py-src-variable">contador</span> + <span class="py-src-number">1</span>

                <span class="py-src-variable">contador</span> = <span class="py-src-number">0</span>
                <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">lista_y</span>:
                    <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>]/<span class="py-src-number">10.0</span>
                    <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-number">0.11</span>
                    <span class="py-src-variable">contador</span> = <span class="py-src-variable">contador</span> + <span class="py-src-number">1</span>

                <span class="py-src-variable">matrix</span>.<span class="py-src-variable">append</span>([<span class="py-src-variable">listax</span>, <span class="py-src-variable">lista_y</span>])
            <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span> = <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span>+<span class="py-src-number">1</span>

        <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span> = <span class="py-src-number">0</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">listax</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">X_train</span>:
            <span class="py-src-variable">lista_y</span> = [<span class="py-src-variable">y_train</span>[<span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span>]]

            <span class="py-src-keyword">if</span>(<span class="py-src-variable">lista_y</span> == [<span class="py-src-number">0</span>]):
                <span class="py-src-comment">#print listax</span>
                <span class="py-src-variable">contador</span> = <span class="py-src-number">0</span>
                <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">listax</span>:
                    <span class="py-src-variable">listax</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-variable">listax</span>[<span class="py-src-variable">contador</span>]/<span class="py-src-number">100.0</span>
                    <span class="py-src-variable">contador</span> = <span class="py-src-variable">contador</span> + <span class="py-src-number">1</span>

                <span class="py-src-variable">contador</span> = <span class="py-src-number">0</span>
                <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">lista_y</span>:
                    <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>]/<span class="py-src-number">10.0</span>
                    <span class="py-src-variable">lista_y</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-number">0.5</span>
                    <span class="py-src-variable">contador</span> = <span class="py-src-variable">contador</span> + <span class="py-src-number">1</span>

                <span class="py-src-variable">matrix</span>.<span class="py-src-variable">append</span>([<span class="py-src-variable">listax</span>, <span class="py-src-variable">lista_y</span>])
            <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span> = <span class="py-src-variable">self</span>.<span class="py-src-variable">cont</span>+<span class="py-src-number">1</span>

        <span class="py-src-variable">n</span> = <span class="py-src-variable">RedeNeural</span>(<span class="py-src-number">400</span>, <span class="py-src-number">12</span>, <span class="py-src-number">1</span>)

        <span class="py-src-comment"># treinar com os padroes</span>
        <span class="py-src-variable">n</span>.<span class="py-src-variable">treinar</span>(<span class="py-src-variable">matrix</span>)






        <span class="py-src-keyword">print</span> <span class="py-src-string">"***************************************************INICIANDO TESTE******************************************"</span>

        <span class="py-src-variable">lista_x_teste_1</span> = [<span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">26</span>, <span class="py-src-number">254</span>, <span class="py-src-number">253</span>, <span class="py-src-number">252</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">3</span>, <span class="py-src-number">44</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">14</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">242</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">249</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">81</span>, <span class="py-src-number">255</span>, <span class="py-src-number">249</span>, <span class="py-src-number">128</span>, <span class="py-src-number">5</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">2</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">254</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">48</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">3</span>, <span class="py-src-number">0</span>, <span class="py-src-number">8</span>, <span class="py-src-number">5</span>, <span class="py-src-number">27</span>, <span class="py-src-number">0</span>, <span class="py-src-number">229</span>, <span class="py-src-number">190</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">7</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">201</span>, <span class="py-src-number">0</span>, <span class="py-src-number">8</span>, <span class="py-src-number">254</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">12</span>, <span class="py-src-number">239</span>, <span class="py-src-number">255</span>, <span class="py-src-number">134</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">67</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">1</span>, <span class="py-src-number">253</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">146</span>, <span class="py-src-number">107</span>, <span class="py-src-number">255</span>, <span class="py-src-number">230</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">245</span>, <span class="py-src-number">255</span>, <span class="py-src-number">251</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">99</span>, <span class="py-src-number">255</span>, <span class="py-src-number">245</span>, <span class="py-src-number">192</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">242</span>, <span class="py-src-number">28</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">74</span>, <span class="py-src-number">255</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">27</span>, <span class="py-src-number">255</span>, <span class="py-src-number">86</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">65</span>, <span class="py-src-number">255</span>, <span class="py-src-number">252</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">166</span>, <span class="py-src-number">2</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">8</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>]
        <span class="py-src-variable">contador</span> = <span class="py-src-number">0</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">lista_x_teste_1</span>:
            <span class="py-src-variable">lista_x_teste_1</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-variable">lista</span>/<span class="py-src-number">10.0</span>
            <span class="py-src-variable">contador</span> = <span class="py-src-variable">contador</span> + <span class="py-src-number">1</span>

        <span class="py-src-variable">lista_x_teste_2</span> = [<span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">8</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">230</span>, <span class="py-src-number">255</span>, <span class="py-src-number">126</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">183</span>, <span class="py-src-number">249</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">219</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">248</span>, <span class="py-src-number">242</span>, <span class="py-src-number">247</span>, <span class="py-src-number">192</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">2</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">63</span>, <span class="py-src-number">173</span>, <span class="py-src-number">152</span>, <span class="py-src-number">87</span>, <span class="py-src-number">224</span>, <span class="py-src-number">165</span>, <span class="py-src-number">29</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">37</span>, <span class="py-src-number">255</span>, <span class="py-src-number">214</span>, <span class="py-src-number">0</span>, <span class="py-src-number">227</span>, <span class="py-src-number">91</span>, <span class="py-src-number">237</span>, <span class="py-src-number">16</span>, <span class="py-src-number">2</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">97</span>, <span class="py-src-number">252</span>, <span class="py-src-number">2</span>, <span class="py-src-number">0</span>, <span class="py-src-number">255</span>, <span class="py-src-number">206</span>, <span class="py-src-number">0</span>, <span class="py-src-number">103</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">154</span>, <span class="py-src-number">255</span>, <span class="py-src-number">3</span>, <span class="py-src-number">0</span>, <span class="py-src-number">106</span>, <span class="py-src-number">251</span>, <span class="py-src-number">138</span>, <span class="py-src-number">62</span>, <span class="py-src-number">233</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">45</span>, <span class="py-src-number">255</span>, <span class="py-src-number">2</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">253</span>, <span class="py-src-number">255</span>, <span class="py-src-number">196</span>, <span class="py-src-number">14</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">52</span>, <span class="py-src-number">241</span>, <span class="py-src-number">246</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">146</span>, <span class="py-src-number">30</span>, <span class="py-src-number">201</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">51</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">250</span>, <span class="py-src-number">255</span>, <span class="py-src-number">15</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">228</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">169</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">239</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">33</span>, <span class="py-src-number">224</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">22</span>, <span class="py-src-number">60</span>, <span class="py-src-number">0</span>, <span class="py-src-number">25</span>, <span class="py-src-number">229</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">242</span>, <span class="py-src-number">25</span>, <span class="py-src-number">3</span>, <span class="py-src-number">245</span>, <span class="py-src-number">255</span>, <span class="py-src-number">253</span>, <span class="py-src-number">254</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">58</span>, <span class="py-src-number">0</span>, <span class="py-src-number">4</span>, <span class="py-src-number">127</span>, <span class="py-src-number">234</span>, <span class="py-src-number">240</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">13</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">6</span>, <span class="py-src-number">236</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">200</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">2</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">5</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">25</span>, <span class="py-src-number">149</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">134</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>]
        <span class="py-src-variable">contador</span> = <span class="py-src-number">0</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">lista_x_teste_2</span>:
            <span class="py-src-variable">lista_x_teste_2</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-variable">lista</span>/<span class="py-src-number">10.0</span>
            <span class="py-src-variable">contador</span> = <span class="py-src-variable">contador</span> + <span class="py-src-number">1</span>

        <span class="py-src-variable">lista_x_teste_3</span> = [<span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">1</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">1</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">5</span>, <span class="py-src-number">79</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">5</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">163</span>, <span class="py-src-number">10</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">27</span>, <span class="py-src-number">241</span>, <span class="py-src-number">84</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">36</span>, <span class="py-src-number">38</span>, <span class="py-src-number">255</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">4</span>, <span class="py-src-number">93</span>, <span class="py-src-number">224</span>, <span class="py-src-number">0</span>, <span class="py-src-number">93</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">86</span>, <span class="py-src-number">223</span>, <span class="py-src-number">9</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">254</span>, <span class="py-src-number">189</span>, <span class="py-src-number">9</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">4</span>, <span class="py-src-number">163</span>, <span class="py-src-number">80</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">183</span>, <span class="py-src-number">16</span>, <span class="py-src-number">206</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">5</span>, <span class="py-src-number">255</span>, <span class="py-src-number">156</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">251</span>, <span class="py-src-number">188</span>, <span class="py-src-number">130</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">12</span>, <span class="py-src-number">249</span>, <span class="py-src-number">254</span>, <span class="py-src-number">255</span>, <span class="py-src-number">216</span>, <span class="py-src-number">255</span>, <span class="py-src-number">224</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">3</span>, <span class="py-src-number">246</span>, <span class="py-src-number">244</span>, <span class="py-src-number">255</span>, <span class="py-src-number">238</span>, <span class="py-src-number">241</span>, <span class="py-src-number">255</span>, <span class="py-src-number">230</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">3</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">219</span>, <span class="py-src-number">255</span>, <span class="py-src-number">237</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">74</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">230</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">68</span>, <span class="py-src-number">254</span>, <span class="py-src-number">255</span>, <span class="py-src-number">254</span>, <span class="py-src-number">255</span>, <span class="py-src-number">245</span>, <span class="py-src-number">38</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">4</span>, <span class="py-src-number">171</span>, <span class="py-src-number">182</span>, <span class="py-src-number">91</span>, <span class="py-src-number">3</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">240</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">58</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">177</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">144</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">20</span>, <span class="py-src-number">221</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">142</span>, <span class="py-src-number">27</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">254</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">229</span>, <span class="py-src-number">43</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>]
        <span class="py-src-variable">contador</span> = <span class="py-src-number">0</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">lista_x_teste_3</span>:
            <span class="py-src-variable">lista_x_teste_3</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-variable">lista</span>/<span class="py-src-number">10.0</span>
            <span class="py-src-variable">contador</span> = <span class="py-src-variable">contador</span> + <span class="py-src-number">1</span>

        <span class="py-src-variable">lista_x_teste_4</span>=  [<span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">226</span>, <span class="py-src-number">3</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">247</span>, <span class="py-src-number">255</span>, <span class="py-src-number">246</span>, <span class="py-src-number">181</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">104</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">29</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">236</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">28</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">42</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">4</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">172</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">254</span>, <span class="py-src-number">127</span>, <span class="py-src-number">55</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">188</span>, <span class="py-src-number">218</span>, <span class="py-src-number">128</span>, <span class="py-src-number">254</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">14</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">35</span>, <span class="py-src-number">49</span>, <span class="py-src-number">237</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">4</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">2</span>, <span class="py-src-number">113</span>, <span class="py-src-number">10</span>, <span class="py-src-number">251</span>, <span class="py-src-number">50</span>, <span class="py-src-number">9</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">247</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">207</span>, <span class="py-src-number">144</span>, <span class="py-src-number">9</span>, <span class="py-src-number">2</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">187</span>, <span class="py-src-number">254</span>, <span class="py-src-number">255</span>, <span class="py-src-number">251</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">52</span>, <span class="py-src-number">5</span>, <span class="py-src-number">45</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">240</span>, <span class="py-src-number">255</span>, <span class="py-src-number">251</span>, <span class="py-src-number">207</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">251</span>, <span class="py-src-number">255</span>, <span class="py-src-number">109</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">27</span>, <span class="py-src-number">243</span>, <span class="py-src-number">255</span>, <span class="py-src-number">34</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">212</span>, <span class="py-src-number">255</span>, <span class="py-src-number">63</span>, <span class="py-src-number">0</span>, <span class="py-src-number">11</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">1</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">208</span>, <span class="py-src-number">255</span>, <span class="py-src-number">144</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">100</span>, <span class="py-src-number">241</span>, <span class="py-src-number">246</span>, <span class="py-src-number">78</span>, <span class="py-src-number">169</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">9</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">86</span>, <span class="py-src-number">179</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">255</span>, <span class="py-src-number">94</span>, <span class="py-src-number">137</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>, <span class="py-src-number">0</span>]

        <span class="py-src-variable">contador</span> = <span class="py-src-number">0</span>
        <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">lista_x_teste_4</span>:
            <span class="py-src-variable">lista_x_teste_4</span>[<span class="py-src-variable">contador</span>] = <span class="py-src-variable">lista</span>/<span class="py-src-number">10.0</span>
            <span class="py-src-variable">contador</span> = <span class="py-src-variable">contador</span> + <span class="py-src-number">1</span>

        <span class="py-src-variable">matrix_teste</span> = []

        <span class="py-src-variable">matrix_teste</span>.<span class="py-src-variable">append</span>([<span class="py-src-variable">lista_x_teste_1</span>,[<span class="py-src-number">1</span>]])
        <span class="py-src-variable">matrix_teste</span>.<span class="py-src-variable">append</span>([<span class="py-src-variable">lista_x_teste_2</span>,[<span class="py-src-number">2</span>]])
        <span class="py-src-variable">matrix_teste</span>.<span class="py-src-variable">append</span>([<span class="py-src-variable">lista_x_teste_3</span>,[<span class="py-src-number">3</span>]])
        <span class="py-src-variable">matrix_teste</span>.<span class="py-src-variable">append</span>([<span class="py-src-variable">lista_x_teste_4</span>,[<span class="py-src-number">4</span>]])

        <span class="py-src-variable">n</span>.<span class="py-src-variable">test</span>(<span class="py-src-variable">matrix_teste</span>)

        <span class="py-src-keyword">print</span>(<span class="py-src-string">"Confusion matrix:\n%s"</span>%(<span class="py-src-variable">metrics</span>.<span class="py-src-variable">confusion_matrix</span>(<span class="py-src-variable">y_test</span>,<span class="py-src-variable">pred</span>)))

        <span class="py-src-keyword">print</span> <span class="py-src-variable">self</span>.<span class="py-src-variable">vclass</span>



        <span class="py-src-keyword">print</span> <span class="py-src-string">"-----------------------------------------------hisamototeste--------------------------------------------------------"</span>
        <span class="py-src-variable">indice</span> = <span class="py-src-number">0</span>

        <span class="py-src-keyword">for</span> <span class="py-src-variable">p</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">X_test</span>:

            <span class="py-src-variable">lista_teste</span> = []
            <span class="py-src-keyword">for</span> <span class="py-src-variable">lista</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">p</span>:
                <span class="py-src-variable">lista_teste</span>.<span class="py-src-variable">append</span>(<span class="py-src-variable">lista</span>/<span class="py-src-number">100.0</span>)

            <span class="py-src-variable">array</span> = <span class="py-src-variable">n</span>.<span class="py-src-variable">fase_forward</span>(<span class="py-src-variable">lista_teste</span>)

            <span class="py-src-keyword">print</span>(<span class="py-src-variable">str</span>(<span class="py-src-variable">y_test</span>[<span class="py-src-variable">indice</span>]/<span class="py-src-number">10.0</span>) + <span class="py-src-string">'--&gt;'</span> + <span class="py-src-variable">str</span>(<span class="py-src-variable">array</span>[<span class="py-src-number">0</span>]) + <span class="py-src-string">"---&gt;"</span> + <span class="py-src-variable">str</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">analisaClasse</span>(<span class="py-src-variable">array</span>[<span class="py-src-number">0</span>])))


            <span class="py-src-variable">indice</span> = <span class="py-src-variable">indice</span> + <span class="py-src-number">1</span>

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">predict</span>(<span class="py-src-parameter">self</span>,<span class="py-src-parameter">frame</span>):
        <span class="py-src-keyword">if</span> <span class="py-src-variable">self</span>.<span class="py-src-variable">clf</span> <span class="py-src-keyword">is</span> <span class="py-src-keyword">not</span> <span class="py-src-variable">None</span>:
            <span class="py-src-variable">inst</span> = <span class="py-src-variable">np</span>.<span class="py-src-variable">matrix</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">img2instance</span>(<span class="py-src-variable">frame</span>)).<span class="py-src-variable">reshape</span>((<span class="py-src-number">1</span>,-<span class="py-src-number">1</span>))
            <span class="py-src-keyword">print</span> <span class="py-src-variable">self</span>.<span class="py-src-variable">vclass</span>[<span class="py-src-variable">self</span>.<span class="py-src-variable">clf</span>.<span class="py-src-variable">predict</span>(<span class="py-src-variable">inst</span>)]
            <span class="py-src-keyword">return</span> <span class="py-src-variable">self</span>.<span class="py-src-variable">vclass</span>[<span class="py-src-variable">self</span>.<span class="py-src-variable">clf</span>.<span class="py-src-variable">predict</span>(<span class="py-src-variable">inst</span>)]

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">analisaClasse</span>(<span class="py-src-parameter">self</span>, <span class="py-src-parameter">valor</span>):
        <span class="py-src-keyword">if</span>(<span class="py-src-variable">valor</span> &gt;= <span class="py-src-number">0.47</span>):
            <span class="py-src-keyword">return</span> <span class="py-src-string">"0"</span>
        <span class="py-src-keyword">if</span>(<span class="py-src-variable">valor</span> &gt;= <span class="py-src-number">0.4</span> <span class="py-src-keyword">and</span> <span class="py-src-variable">valor</span> &lt; <span class="py-src-number">0.47</span>):
            <span class="py-src-keyword">return</span> <span class="py-src-string">"4"</span>
        <span class="py-src-keyword">if</span>(<span class="py-src-variable">valor</span> &gt;= <span class="py-src-number">0.3</span> <span class="py-src-keyword">and</span> <span class="py-src-variable">valor</span> &lt; <span class="py-src-number">0.4</span>):
            <span class="py-src-keyword">return</span> <span class="py-src-string">"3"</span>
        <span class="py-src-keyword">if</span>(<span class="py-src-variable">valor</span> &gt;= <span class="py-src-number">0.2</span> <span class="py-src-keyword">and</span> <span class="py-src-variable">valor</span> &lt; <span class="py-src-number">0.3</span>):
            <span class="py-src-keyword">return</span> <span class="py-src-string">"2"</span>
        <span class="py-src-keyword">if</span>(<span class="py-src-variable">valor</span> &gt;= <span class="py-src-number">0.1</span> <span class="py-src-keyword">and</span> <span class="py-src-variable">valor</span> &lt; <span class="py-src-number">0.2</span>):
            <span class="py-src-keyword">return</span> <span class="py-src-string">"1"</span>

<span class="py-src-keyword">class</span> <span class="py-src-identifier">AnyCamera</span>:
    <span class="py-src-keyword">def</span> <span class="py-src-identifier">__init__</span>(<span class="py-src-parameter">self</span>):
        <span class="py-src-variable">self</span>.<span class="py-src-variable">cap</span> = <span class="py-src-variable">cv2</span>.<span class="py-src-variable">VideoCapture</span>(<span class="py-src-number">0</span>)
        <span class="py-src-variable">self</span>.<span class="py-src-variable">obj</span> = <span class="py-src-variable">GetColor</span>()
        <span class="py-src-variable">self</span>.<span class="py-src-variable">obj</span>.<span class="py-src-variable">load</span>()
        <span class="py-src-variable">self</span>.<span class="py-src-variable">joystick</span> = <span class="py-src-variable">AnyJoystick</span>()
        <span class="py-src-variable">self</span>.<span class="py-src-variable">joystick</span>.<span class="py-src-variable">load</span>()
        <span class="py-src-variable">self</span>.<span class="py-src-variable">joystick</span>.<span class="py-src-variable">train</span>()

    <span class="py-src-keyword">def</span> <span class="py-src-identifier">getMove</span>(<span class="py-src-parameter">self</span>):
        <span class="py-src-variable">ret</span>, <span class="py-src-variable">frame</span> = <span class="py-src-variable">self</span>.<span class="py-src-variable">cap</span>.<span class="py-src-variable">read</span>()
        <span class="py-src-variable">self</span>.<span class="py-src-variable">obj</span>.<span class="py-src-variable">set_frame</span>(<span class="py-src-variable">frame</span>)
        <span class="py-src-variable">self</span>.<span class="py-src-variable">obj</span>.<span class="py-src-variable">update_threshold</span>()
        <span class="py-src-keyword">return</span> <span class="py-src-variable">self</span>.<span class="py-src-variable">joystick</span>.<span class="py-src-variable">predict</span>(<span class="py-src-variable">self</span>.<span class="py-src-variable">obj</span>.<span class="py-src-variable">thsv</span>)
</pre>
</body>